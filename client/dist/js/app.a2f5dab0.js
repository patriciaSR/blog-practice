(function(t){function e(e){for(var n,o,i=e[0],u=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=r[0]))}return t}var n={},a={app:0},s=[];function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/blog-practice/client/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0309":function(t,e,r){t.exports=r.p+"img/defaultPostImage.5b2c5175.jpg"},"030c":function(t,e,r){"use strict";var n=r("d7db"),a=r.n(n);a.a},"034f":function(t,e,r){"use strict";var n=r("8a23"),a=r.n(n);a.a},"0a53":function(t,e,r){"use strict";var n=r("7e82"),a=r.n(n);a.a},"1aa9":function(t,e,r){t.exports=r.p+"img/avatar-pengin.b094f213.png"},2095:function(t,e){function r(t){var e=new Date(t),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e.getDate(),a=e.getMonth(),s=e.getFullYear();return n+" "+r[a]+" "+s}t.exports=r},2396:function(t,e,r){"use strict";var n=r("eb35"),a=r.n(n);a.a},"2b58":function(t,e,r){"use strict";var n=r("914c"),a=r.n(n);a.a},"390f":function(t,e,r){"use strict";var n=r("3d62"),a=r.n(n);a.a},"3d62":function(t,e,r){},4493:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{staticClass:"app",attrs:{app:""}},[r("Header"),r("v-content",[r("router-view")],1),r("Footer")],1)},s=[],o=(r("96cf"),r("1da1")),i=r("bc3a"),u="https://localhost:3443/";function c(t,e){return l.apply(this,arguments)}function l(){return l=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={username:e,password:r},t.next=3,i["request"]({url:u+"login",auth:n,method:"post"});case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}var d=c,p={state:{token:null,data:null},authenticate:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d(e,r);case 2:return n=t.sent,n&&(this.state.token=n.token,this.state.data=n.userData,localStorage.setItem("userToken",this.state.token),localStorage.setItem("userData",JSON.stringify(this.state.data))),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}(),getFromLocalStorage:function(){this.state.token=localStorage.getItem("userToken"),this.state.data=JSON.parse(localStorage.getItem("userData"))}},m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app-bar",{attrs:{app:"",dark:"",absolute:"",color:"#1A237E",height:"70"}},[n("div",{staticClass:"header__container d-flex align-center justify-space-between flex-grow-1"},[n("a",{staticClass:"app-home__link",attrs:{href:"/"}},[n("v-img",{staticClass:"blog__logo mr-2",attrs:{src:r("e389"),alt:"Blog Logo",contain:"",width:"100"}})],1)]),n("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}})],1),n("NavigationMenu",{attrs:{drawer:t.drawer},on:{"toggle-menu":t.toggleMenu}})],1)},f=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-navigation-drawer",{attrs:{color:t.color,right:t.right,src:t.bg,absolute:"",dark:"","data-id":"nav-menu-btn"},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[r("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[r("v-list-item",{class:t.miniVariant&&"px-0 my-0",attrs:{"two-line":""}},[t.userStore.token?r("v-list-item-avatar",[r("img",{attrs:{src:t.userStore.data.image||t.defaultAvatar}})]):t._e(),t.userStore.token?r("v-list-item-content",{staticClass:"d-flex"},[r("v-list-item-title",[t._v(t._s(t.userStore.data.firstname)+" "+t._s(t.userStore.data.lastname||""))]),r("v-list-item-subtitle",[t._v("@"+t._s(t.userStore.data.username))])],1):t._e(),r("v-btn",{attrs:{text:"",icon:"",color:"red"},on:{click:function(e){return t.close()}}},[r("v-icon",[t._v("fa-times")])],1)],1),r("v-divider"),t.userStore.token?r("div",[t._l(t.items,(function(e){return r("router-link",{key:e.title,attrs:{to:e.path}},[r("v-list-item",{attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",{staticClass:"white--text"},[r("v-list-item-title",[t._v(t._s(e.title))])],1)],1)],1)})),r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.logout()}}},[r("v-list-item-icon",[r("v-icon",[t._v("fas fa-sign-out-alt")])],1),r("v-list-item-content",{staticClass:"white--text"},[r("v-list-item-title",[t._v("Logout")])],1)],1)],2):r("div",[r("router-link",{attrs:{to:"/login"}},[r("v-list-item",{attrs:{link:""}},[r("v-list-item-icon",[r("v-icon",[t._v("fas fa-sign-in-alt")])],1),r("v-list-item-content",{staticClass:"white--text"},[r("v-list-item-title",[t._v("Login")])],1)],1)],1)],1)],1)],1)},v=[],g=r("1aa9"),w=r.n(g),x={name:"NavigationMenu",props:{drawer:void 0},data:function(){return{userStore:p.state,defaultAvatar:w.a,items:[{title:"Posts",icon:"mdi-view-dashboard",path:"/posts"},{title:"My Profile",icon:"mdi-account",path:"/myprofile"}],color:"primary",colors:["primary","blue","success","red","teal"],right:!0,miniVariant:!0,expandOnHover:!1,background:!1}},computed:{bg:function(){return this.background?"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg":void 0},isOpen:{get:function(){return this.drawer},set:function(){}}},methods:{close:function(){this.$emit("toggle-menu",!1)},logout:function(){if(localStorage.clear(),p.state.token="",p.state.data={},"/"!==this.$router.currentRoute.path)return this.$router.push("/")}}},b=x,y=(r("978d"),r("2877")),_=r("6544"),C=r.n(_),k=r("8336"),T=r("ce7e"),E=r("132d"),V=r("8860"),P=r("da13"),O=r("8270"),D=r("5d23"),S=r("34c3"),j=r("f774"),R=Object(y["a"])(b,h,v,!1,null,"083d7277",null),$=R.exports;C()(R,{VBtn:k["a"],VDivider:T["a"],VIcon:E["a"],VList:V["a"],VListItem:P["a"],VListItemAvatar:O["a"],VListItemContent:D["a"],VListItemIcon:S["a"],VListItemSubtitle:D["b"],VListItemTitle:D["c"],VNavigationDrawer:j["a"]});var I={name:"Header",components:{NavigationMenu:$},data:function(){return{drawer:!1}},methods:{toggleMenu:function(t){return this.drawer=t}}},B=I,A=(r("0a53"),r("40dc")),W=r("5bc1"),L=r("adda"),q=Object(y["a"])(B,m,f,!1,null,"1f5ae647",null),U=q.exports;C()(q,{VAppBar:A["a"],VAppBarNavIcon:W["a"],VImg:L["a"]});var F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{attrs:{dark:"",padless:""}},[r("v-card",{staticClass:"indigo darken-4 white--text text-center",attrs:{flat:"",tile:"",width:"100%"}},[r("v-card-text",t._l(t.icons,(function(e){return r("v-btn",{key:e.class,staticClass:"mx-4 white--text",attrs:{icon:"",href:e.url,target:"_blank"}},[r("v-icon",{attrs:{size:"24px"}},[t._v(t._s(e.class))])],1)})),1),r("v-divider"),r("v-card-text",{staticClass:"white--text"},[t._v(" "+t._s((new Date).getFullYear())+" — "),r("a",{staticClass:"github__link secondary--text",attrs:{href:"https://github.com/patriciaSR",target:"_blank"}},[r("strong",[t._v("@patriciaSR")])])])],1)],1)},N=[],M={name:"Footer",data:function(){return{icons:[{class:"fab fa-facebook",url:"https://www.facebook.com/"},{class:"fab fa-twitter",url:"https://twitter.com/"},{class:"fab fa-linkedin",url:"https://www.linkedin.com/"},{class:"fab fa-instagram",url:"https://www.instagram.com/"}]}}},z=M,Y=(r("760c"),r("b0af")),H=r("99d9"),J=r("553a"),Z=Object(y["a"])(z,F,N,!1,null,null,null),G=Z.exports;C()(Z,{VBtn:k["a"],VCard:Y["a"],VCardText:H["c"],VDivider:T["a"],VFooter:J["a"],VIcon:E["a"]});var K={name:"App",components:{Header:U,Footer:G},data:function(){return{}},created:function(){this.getLocalData()},methods:{getLocalData:function(){return p.getFromLocalStorage()}}},Q=K,X=(r("034f"),r("7496")),tt=r("a75b"),et=Object(y["a"])(Q,a,s,!1,null,null,null),rt=et.exports;C()(et,{VApp:X["a"],VContent:tt["a"]});var nt=r("8c4f"),at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{"text-center":"",wrap:""}},[r("Hero"),r("WelcomeCard",{attrs:{userStore:t.userStore}})],1)],1)},st=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:""}},[n("v-img",{staticClass:"my-3",attrs:{src:r("e389"),contain:"",height:"180"}}),n("h1",{staticClass:"display-2 font-weight-bold mt-6"},[t._v("Welcome to Patri's Blog")])],1)},it=[],ut={name:"Hero",components:{},data:function(){return{}},methods:{}},ct=ut,lt=r("0e8f"),dt=Object(y["a"])(ct,ot,it,!1,null,"33cdfa9d",null),pt=dt.exports;C()(dt,{VFlex:lt["a"],VImg:L["a"]});var mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-flex",{attrs:{"py-15":""}},[t.userStore.token?r("div",{staticClass:"mt-12"},[r("p",[t._v(" Welcome "),r("span",{staticClass:"username__text"},[t._v("@"+t._s(t.userStore.data.username))])]),r("div",{staticClass:"mt-8"},[r("PrimaryBtn",{staticClass:"mr-4",attrs:{btnText:"View posts"},on:{"go-to":function(e){return t.goToView("/posts")}}}),r("PrimaryBtn",{attrs:{btnText:"My Profile"},on:{"go-to":function(e){return t.goToView("/myprofile")}}})],1),r("PrimaryBtn",{staticClass:"mt-10",attrs:{btnText:"New Post"},on:{"go-to":function(e){return t.goToView("/myprofile/newpost")}}})],1):r("div",{staticClass:"py-5"},[r("p",{staticClass:"subheading font-weight-regular"},[t._v("For create new posts and comments you need sign in.")]),r("div",{staticClass:"py-5"},[r("PrimaryBtn",{staticClass:"mr-4",attrs:{btnText:"Login"},on:{"go-to":function(e){return t.goToView("/login")}}}),r("PrimaryBtn",{attrs:{btnText:"Sign up"},on:{"go-to":function(e){return t.goToView("/signup")}}})],1),r("p",{staticClass:"subheading font-weight-regular"},[t._v("You can read posts and comments freely.")]),r("PrimaryBtn",{attrs:{btnText:"View posts"},on:{"go-to":function(e){return t.goToView("/posts")}}})],1)])},ft=[],ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-btn",{staticClass:"ma-2",attrs:{depressed:"",color:"primary","max-width":"120"},on:{click:function(e){return t.goTo()}}},[t._v(t._s(t.btnText))])},vt=[],gt={name:"PrimaryBtn",props:{btnText:String},data:function(){return{}},methods:{goTo:function(){this.$emit("go-to")}}},wt=gt,xt=Object(y["a"])(wt,ht,vt,!1,null,"bd92e46a",null),bt=xt.exports;C()(xt,{VBtn:k["a"]});var yt={name:"WelcomeCard",components:{PrimaryBtn:bt},props:{userStore:Object},data:function(){return{}},methods:{goToView:function(t){this.$router.push(t)}}},_t=yt,Ct=(r("6fd5"),Object(y["a"])(_t,mt,ft,!1,null,"59a3956d",null)),kt=Ct.exports;C()(Ct,{VFlex:lt["a"]});var Tt={name:"Home",components:{Hero:pt,WelcomeCard:kt},data:function(){return{userStore:p.state}},methods:{goToView:function(t){this.$router.push(t)}}},Et=Tt,Vt=r("a523"),Pt=r("a722"),Ot=Object(y["a"])(Et,at,st,!1,null,"45889184",null),Dt=Ot.exports;C()(Ot,{VContainer:Vt["a"],VLayout:Pt["a"]});var St=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto d-flex justify-center"},[r("v-layout",{staticClass:"d-flex flex-row justify-space-between align-center",attrs:{"text-left":"",wrap:""}},[r("div",{staticClass:"mx-auto my-10 v-card"},[r("PostList",{attrs:{posts:t.posts,listTitle:"Post List"}})],1),r("PrimaryBtn",{staticClass:"mt-12 align-self-start",attrs:{btnText:"New Post"},on:{"go-to":function(e){return t.goToView("/myprofile/newpost")}}})],1)],1)},jt=[],Rt=(r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),"https://localhost:3443/");function $t(){return It.apply(this,arguments)}function It(){return It=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["get"](Rt+"posts");case 2:return e=t.sent,r=e.data.reverse(),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)}))),It.apply(this,arguments)}var Bt=$t,At=r("2095"),Wt=r.n(At),Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{wrap:"","max-width":"800",color:"secondary"}},[r("v-card-title",{},[t._v(t._s(t.listTitle))]),0!==t.posts.length?r("v-list-item",{staticClass:"d-block pb-3",attrs:{"three-line":""}},t._l(t.posts,(function(e){return r("v-card",{key:e._id,staticClass:"mx-1 my-3 px-2",attrs:{id:e._id,tile:"","max-width":"800"}},[r("router-link",{staticClass:"no-underline",attrs:{to:"/posts/"+e._id,"data-id":"post-link"}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"mb-2"},[t._v(t._s(e.title))]),r("v-list-item-subtitle",{staticClass:"caption"},[t._v(t._s(e.date))]),r("v-list-item-subtitle",{staticClass:"mt-2"},[t._v(t._s(e.content))])],1)],1)],1)})),1):r("v-card-text",{staticClass:"ma-4",attrs:{width:"100%"}},[t._v(" There is no post yet. Create your first post "),r("router-link",{attrs:{to:"/myprofile/newpost"}},[t._v("here >>")])],1)],1)},qt=[],Ut={name:"PostList",components:{},props:{listTitle:String,posts:Array},data:function(){return{}},methods:{}},Ft=Ut,Nt=(r("a4b8"),Object(y["a"])(Ft,Lt,qt,!1,null,"aa7ec002",null)),Mt=Nt.exports;C()(Nt,{VCard:Y["a"],VCardText:H["c"],VCardTitle:H["d"],VListItem:P["a"],VListItemContent:D["a"],VListItemSubtitle:D["b"],VListItemTitle:D["c"]});var zt={name:"Posts",components:{PostList:Mt,PrimaryBtn:bt},data:function(){return{userStore:p.state,posts:[]}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getPosts();case 2:this.posts=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{goToView:function(t){this.$router.push(t)},getPosts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Bt();case 2:for(e=t.sent,r=!0,n=!1,a=void 0,t.prev=6,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)i=o.value,i.date=Wt()(i.date);t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](6),n=!0,a=t.t0;case 14:t.prev=14,t.prev=15,r||null==s.return||s.return();case 17:if(t.prev=17,!n){t.next=20;break}throw a;case 20:return t.finish(17);case 21:return t.finish(14);case 22:return t.abrupt("return",e);case 23:case"end":return t.stop()}}),t,null,[[6,10,14,22],[15,,17,21]])})));function e(){return t.apply(this,arguments)}return e}()}},Yt=zt,Ht=Object(y["a"])(Yt,St,jt,!1,null,"25f0beab",null),Jt=Ht.exports;C()(Ht,{VContainer:Vt["a"],VLayout:Pt["a"]});var Zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"login__box",attrs:{"mx-auto":"","py-12":"","fill-height":""}},[r("v-layout",{staticClass:"flex-column",attrs:{"text-center":""}},[r("v-card",{staticClass:"px-6 py-10 mb-4",attrs:{color:"#C5CAE9"}},[r("v-text-field",{attrs:{rules:[t.rules.required,t.rules.min],label:"Username","data-id":"username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),r("v-text-field",{staticClass:"input-group--focused",attrs:{type:t.show2?"text":"password","append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],name:"input-password",label:"Password",hint:"At least 6 characters","data-id":"password"},on:{"click:append":function(e){t.show2=!t.show2},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),r("PrimaryBtn",{attrs:{btnText:"Sign in","data-id":"signin-btn"},on:{"go-to":t.login}}),r("v-container",[r("v-content",[t._v(" Don't have an account?, Sign up "),r("router-link",{staticClass:"signup__link",attrs:{to:"/signup"}},[t._v("here >>")])],1)],1),r("Dialog",{attrs:{offensiveError:t.offensiveError,dialog:t.dialog},on:{"close-dialog":function(e){t.dialog=!1}}})],1)],1)},Gt=[],Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.offensiveError?r("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",{staticClass:"pa-4",attrs:{color:"#FAD9D3"}},[r("v-card-text",{staticClass:"text--primary text-center",attrs:{"data-id":"error-text"}},[t._v(t._s(t.offensiveError.errorText))]),r("v-list",{attrs:{color:"#FAD9D3"}},t._l(t.offensiveError.notAllowedWords,(function(e){return r("v-list-item",{key:e.word,staticClass:"d-block pb-3 mb-3 white",attrs:{"three-line":""}},[r("v-list-item-content",{attrs:{shaped:""}},[r("v-list-item-title",{staticClass:"mb-2"},[r("strong",[t._v("Word:")]),t._v(" "+t._s(e.word)+" ")]),r("v-list-item-subtitle",{staticClass:"caption"},[r("strong",[t._v("Level:")]),t._v(" "+t._s(e.level)+" ")])],1)],1)})),1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.closeDialog()}}},[t._v("Agree")])],1)],1)],1):t._e()},Qt=[],Xt={name:"Dialog",components:{},props:{offensiveError:Object,dialog:Boolean},data:function(){return{}},methods:{closeDialog:function(){this.$emit("close-dialog")}}},te=Xt,ee=r("169a"),re=r("2fa4"),ne=Object(y["a"])(te,Kt,Qt,!1,null,"bbf00de2",null),ae=ne.exports;C()(ne,{VBtn:k["a"],VCard:Y["a"],VCardActions:H["a"],VCardText:H["c"],VDialog:ee["a"],VList:V["a"],VListItem:P["a"],VListItemContent:D["a"],VListItemSubtitle:D["b"],VListItemTitle:D["c"],VSpacer:re["a"]});var se={name:"Login",components:{PrimaryBtn:bt,Dialog:ae},data:function(){return{username:"",password:"",rules:{required:function(t){return!!t||"Required."},min:function(t){return t.length>=6||"Min 6 characters"},max:function(t){return t.length<=10||"Max 10 characters"}},show2:!1,offensiveError:{errorText:void 0},dialog:!1}},methods:{login:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.username&&this.password){t.next=5;break}this.offensiveError.errorText="Enter your username and password",this.dialog=!0,t.next=17;break;case 5:return t.prev=5,t.next=8,p.authenticate(this.username,this.password);case 8:e=t.sent,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](5),this.offensiveError.errorText="Invalid username or password",this.dialog=!0;case 15:if(!e){t.next=17;break}return t.abrupt("return",this.$router.push("/myprofile"));case 17:case"end":return t.stop()}}),t,this,[[5,11]])})));function e(){return t.apply(this,arguments)}return e}()}},oe=se,ie=(r("390f"),r("8654")),ue=Object(y["a"])(oe,Zt,Gt,!1,null,"1cc47423",null),ce=ue.exports;C()(ue,{VCard:Y["a"],VContainer:Vt["a"],VContent:tt["a"],VLayout:Pt["a"],VTextField:ie["a"]});var le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"signup__box",attrs:{"mx-auto":"","py-12":"","fill-height":""}},[r("v-layout",{staticClass:"flex-column",attrs:{"text-center":""}},[r("v-card",{staticClass:"px-6 py-10 mb-4 indigo lighten-4"},[r("v-form",[r("v-text-field",{attrs:{rules:[t.rules.required],label:"First name *"},model:{value:t.newUser.firstname,callback:function(e){t.$set(t.newUser,"firstname",e)},expression:"newUser.firstname"}}),r("v-text-field",{attrs:{label:"Last Name"},model:{value:t.newUser.lastname,callback:function(e){t.$set(t.newUser,"lastname",e)},expression:"newUser.lastname"}}),r("v-text-field",{attrs:{rules:[t.rules.required,t.rules.min,t.rules.max,t.rules.username],label:"Username *"},model:{value:t.newUser.username,callback:function(e){t.$set(t.newUser,"username",e)},expression:"newUser.username"}}),r("v-text-field",{attrs:{rules:[t.rules.required,t.rules.email],label:"E-mail *"},model:{value:t.newUser.email,callback:function(e){t.$set(t.newUser,"email",e)},expression:"newUser.email"}}),r("v-file-input",{attrs:{accept:"image/*","prepend-icon":"","append-icon":"mdi-camera",label:"Profile Image file",name:"input-image",id:"file"},on:{change:t.handleUploadImage}}),r("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":t.show2?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.rules.min],type:t.show2?"text":"password",name:"input-password",label:"Password",hint:"At least 6 characters"},on:{"click:append":function(e){t.show2=!t.show2},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signup()}},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password",e)},expression:"newUser.password"}})],1)],1),r("PrimaryBtn",{attrs:{btnText:"Sign up"},on:{"go-to":t.signup}}),r("Dialog",{attrs:{offensiveError:t.offensiveError,dialog:t.dialog},on:{"close-dialog":function(e){t.dialog=!1}}})],1)],1)},de=[],pe="https://localhost:3443/";function me(t){return fe.apply(this,arguments)}function fe(){return fe=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["request"]({url:pe+"signup",data:e,method:"post"});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)}))),fe.apply(this,arguments)}var he=me,ve={name:"Signup",components:{PrimaryBtn:bt,Dialog:ae},data:function(){return{newUser:{firstname:"",lastname:"",username:"",email:"",image:"",password:""},rules:{required:function(t){return!!t||"Required."},min:function(t){return t.length>=6||"Min 6 characters"},max:function(t){return t.length<=10||"Max 10 characters"},email:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."},username:function(t){var e=/^[a-zA-Z0-9]+([._]?[a-zA-Z0-9]+)*$/;return e.test(t)||"Invalid username"}},show2:!1,offensiveError:{errorText:void 0},dialog:!1}},methods:{signup:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.checkFields()){t.next=16;break}return t.prev=1,t.next=4,he(this.newUser);case 4:e=t.sent,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),this.offensiveError.errorText=t.t0.response.data,this.dialog=!0;case 11:if(!e){t.next=14;break}return alert("User registered correctly"),t.abrupt("return",this.$router.push("/login"));case 14:t.next=18;break;case 16:this.offensiveError.errorText="Fill required fields correctly",this.dialog=!0;case 18:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}(),checkFields:function(){var t="boolean"===typeof this.rules.email(this.newUser.email),e="boolean"===typeof this.rules.min(this.newUser.username),r="boolean"===typeof this.rules.max(this.newUser.username),n="boolean"===typeof this.rules.username(this.newUser.username),a="boolean"===typeof this.rules.min(this.newUser.password);if(n&&e&&r&&t&&a)return!0},handleUploadImage:function(t){var e=this,r=t;if(r){var n=new FileReader;n.readAsDataURL(r),n.onload=function(t){e.newUser.image=t.target.result},document.querySelector("#file").value=""}}}},ge=ve,we=(r("030c"),r("23a7")),xe=r("4bd4"),be=Object(y["a"])(ge,le,de,!1,null,"352a34f4",null),ye=be.exports;C()(be,{VCard:Y["a"],VContainer:Vt["a"],VFileInput:we["a"],VForm:xe["a"],VLayout:Pt["a"],VTextField:ie["a"]});var _e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto d-flex justify-center"},[r("v-layout",{staticClass:"d-flex flex-row justify-space-between align-center my-4",attrs:{wrap:""}},[t.notFound?r("v-card",{staticClass:"pa-10",attrs:{width:"80%"}},[t._v("Post Not Found :(")]):r("div",{staticClass:"v-card v-card--shadow-none"},[r("PostCard",{attrs:{postData:t.postData,isCommentsOpen:t.isCommentsOpen},on:{"comment-clicked":t.toggleComments}}),r("CommentsCard",{attrs:{postID:t.postData._id,comments:t.postData.comments,isCommentsOpen:t.isCommentsOpen}})],1),r("PrimaryBtn",{staticClass:"mt-10 align-self-start",attrs:{btnText:"New Post"},on:{"go-to":function(e){return t.goToView("/myprofile/newpost")}}})],1)],1)},Ce=[],ke="https://localhost:3443/";function Te(t){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["get"](ke+"posts/"+e);case 2:return r=t.sent,r.data.comments.reverse(),t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)}))),Ee.apply(this,arguments)}var Ve=Te,Pe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{"max-width":"800"}},[r("v-img",{staticClass:"white--text align-end",attrs:{src:t.postData.image||t.defaultPostImage,height:"200px"}},[r("v-card-title",[t._v(t._s(t.postData.title))])],1),r("AvatarCard",{attrs:{postData:t.postData}}),r("v-card-text",{staticClass:"text--primary"},[t._v(t._s(t.postData.content))]),!t.userStore.token||t.userStore.data._id!==t.postData.userID&&"admin"!==t.userStore.data.role?t._e():r("v-card-actions",{staticClass:"justify-end"},[r("SecondaryBtn",{attrs:{btnText:"Edit","data-id":"edit-post-btn"},on:{"go-to":function(e){return t.editPost(t.postData._id)}}}),r("SecondaryBtn",{attrs:{btnText:"Delete","data-id":"delete-post-btn"},on:{"go-to":function(e){return t.deletePost(t.postData._id)}}})],1),r("v-divider",{staticClass:"mx-3"}),r("v-card-actions",[r("v-btn",{attrs:{text:"",color:"orange","data-id":"show-comments-btn"},on:{click:function(e){return t.toggle()}}},[t._v("Show Comments ("+t._s(t.postData.comments.length)+")")])],1),r("Dialog",{attrs:{offensiveError:t.offensiveError,dialog:t.dialog},on:{"close-dialog":function(e){t.dialog=!1}}})],1)},Oe=[],De=r("0309"),Se=r.n(De),je=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex"},[r("v-avatar",{staticClass:"ma-2",attrs:{size:"70"}},[t.userData?r("img",{attrs:{src:t.userData.image||t.defaultAvatar,alt:t.userData.username}}):t._e(),t.commentUserData?r("img",{attrs:{src:t.commentUserData.image||t.defaultAvatar,alt:t.commentUserData.username}}):t._e(),t.postData?r("img",{attrs:{src:t.postData.userInfo.image||t.defaultAvatar,alt:t.postData.userInfo.username}}):t._e()]),t.userData?r("div",{staticClass:"d-flex-column justify-center py-3"},[r("v-card-subtitle",{staticClass:"py-0 mb-1 primary--text"},[r("strong",[t._v("Username:")]),t._v(" @"+t._s(t.userData.username)+" ")]),r("v-card-subtitle",{staticClass:"py-0 mb-1 primary--text"},[r("strong",[t._v("Name:")]),t._v(" "+t._s(t.userData.firstname)+" "+t._s(t.userData.lastname||"")+" ")])],1):t._e(),t.commentUserData?r("div",{staticClass:"d-flex-column justify-center py-3"},[r("v-card-subtitle",{staticClass:"py-0 mb-1 primary--text"},[t._v("@"+t._s(t.commentUserData.username))]),r("v-card-subtitle",{staticClass:"py-0 caption"},[t._v("Date: "+t._s(t.commentDate))])],1):t._e(),t.postData?r("div",{staticClass:"d-flex-column justify-center py-3"},[r("v-card-subtitle",{staticClass:"py-0 mb-1 primary--text"},[t._v("@"+t._s(t.postData.userInfo.username))]),r("v-card-subtitle",{staticClass:"py-0 caption"},[t._v("Date: "+t._s(t.postData.date))])],1):t._e()],1)},Re=[],$e={name:"PrimaryBtn",props:{postData:Object,commentUserData:Object,commentDate:String,userData:Object},data:function(){return{defaultAvatar:w.a}}},Ie=$e,Be=r("8212"),Ae=Object(y["a"])(Ie,je,Re,!1,null,"0169a9d3",null),We=Ae.exports;C()(Ae,{VAvatar:Be["a"],VCardSubtitle:H["b"]});var Le=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-btn",{attrs:{color:"orange","max-width":"150",text:""},on:{click:function(e){return t.goTo()}}},[t._v(t._s(t.btnText))])},qe=[],Ue={name:"SecondaryBtn",props:{btnText:String},data:function(){return{}},methods:{goTo:function(){this.$emit("go-to")}}},Fe=Ue,Ne=Object(y["a"])(Fe,Le,qe,!1,null,"62566f58",null),Me=Ne.exports;C()(Ne,{VBtn:k["a"]});var ze="https://localhost:3443/";function Ye(t){return He.apply(this,arguments)}function He(){return He=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=p.state.token,n="Bearer ".concat(r),t.next=4,i["request"]({url:ze+"posts/"+e,headers:{Authorization:n},method:"delete"});case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)}))),He.apply(this,arguments)}var Je=Ye,Ze={name:"PostCard",components:{AvatarCard:We,SecondaryBtn:Me,Dialog:ae},props:{postData:Object,isCommentsOpen:Boolean,token:String},data:function(){return{userStore:p.state,defaultPostImage:Se.a,offensiveError:{errorText:void 0},dialog:!1}},methods:{toggle:function(){var t=!this.isCommentsOpen;this.$emit("comment-clicked",t)},editPost:function(t){this.$router.push({path:"/myprofile/newpost/",query:{edit:t}})},deletePost:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Je(e);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),401===t.t0.response.status?(alert("Your session has expired. Please, login again!"),this.$router.push("/login")):(this.offensiveError.errorText=t.t0.response.data,this.dialog=!0);case 9:r&&(alert("Your post has deleted correctly"),this.$router.push("/myprofile"));case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}()}},Ge=Ze,Ke=Object(y["a"])(Ge,Pe,Oe,!1,null,"411fd856",null),Qe=Ke.exports;C()(Ke,{VBtn:k["a"],VCard:Y["a"],VCardActions:H["a"],VCardText:H["c"],VCardTitle:H["d"],VDivider:T["a"],VImg:L["a"]});var Xe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mt-5 pa-4",class:{"d-none":t.isCommentsOpen},attrs:{"max-width":"800",color:"#E8EAF6"}},[r("v-card-title",[t._v(t._s(t.comments.length)+" COMMENTS")]),t.userStore.token?r("v-card",{staticClass:"pa-4 my-4"},[r("v-text-field",{attrs:{rules:[t.rules.required],filled:"",label:"Write your comment",name:"input-comment",rows:"3"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewComment()}},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}}),r("PrimaryBtn",{attrs:{btnText:"+ Comment","data-id":"add-comment-btn"},on:{"go-to":t.addNewComment}})],1):r("div",{staticClass:"pa-4"},[t._v(" Login to add new comment "),r("router-link",{attrs:{to:"/login"}},[t._v("here >>")])],1),t._l(t.comments,(function(e){return r("v-card",{key:e._id,staticClass:"mb-2",attrs:{"max-width":"800"}},[r("AvatarCard",{attrs:{commentUserData:e.userInfo,commentDate:e.date}}),e._id===t.commentToEdit.id?r("v-card",{staticClass:"pa-4 my-4"},[r("v-text-field",{attrs:{rules:[t.rules.required],filled:"",label:"Write your comment",name:"input-comment-edit",rows:"3"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendEditComment()}},model:{value:t.commentToEdit.content,callback:function(e){t.$set(t.commentToEdit,"content",e)},expression:"commentToEdit.content"}}),r("PrimaryBtn",{attrs:{btnText:"Edit","data-id":"send-comment-btn"},on:{"go-to":t.sendEditComment}})],1):r("v-card-text",{staticClass:"text--primary"},[t._v(t._s(e.content))]),!t.userStore.token||t.userStore.data._id!==e.userID&&"admin"!==t.userStore.data.role?t._e():r("v-card-actions",[r("SecondaryBtn",{attrs:{btnText:"Edit","data-id":"edit-comment-btn"},on:{"go-to":function(r){return t.editComment(e)}}}),r("SecondaryBtn",{attrs:{btnText:"Delete","data-id":"delete-comment-btn"},on:{"go-to":function(r){return t.deleteComment(e._id)}}})],1)],1)})),r("Dialog",{attrs:{offensiveError:t.offensiveError,dialog:t.dialog},on:{"close-dialog":function(e){t.dialog=!1}}})],2)},tr=[],er=(r("c740"),r("a434"),r("498a"),"https://localhost:3443/");function rr(t,e){return nr.apply(this,arguments)}function nr(){return nr=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=p.state.token,a="Bearer ".concat(n),t.next=4,i["request"]({url:er+"posts/"+e+"/comments",headers:{Authorization:a},data:{content:r},method:"post"});case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)}))),nr.apply(this,arguments)}var ar=rr,sr="https://localhost:3443/";function or(t,e){return ir.apply(this,arguments)}function ir(){return ir=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=p.state.token,a="Bearer ".concat(n),t.next=4,i["request"]({url:sr+"posts/"+e+"/comments/"+r.id,headers:{Authorization:a},data:{content:r.content},method:"put"});case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)}))),ir.apply(this,arguments)}var ur=or,cr="https://localhost:3443/";function lr(t,e){return dr.apply(this,arguments)}function dr(){return dr=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=p.state.token,a="Bearer ".concat(n),t.next=4,i["request"]({url:cr+"posts/"+e+"/comments/"+r,headers:{Authorization:a},method:"delete"});case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)}))),dr.apply(this,arguments)}var pr=lr,mr={name:"CommentsCard",components:{AvatarCard:We,PrimaryBtn:bt,SecondaryBtn:Me,Dialog:ae},props:{postID:String,comments:Array,isCommentsOpen:Boolean},data:function(){return{userStore:p.state,defaultAvatar:w.a,newComment:void 0,commentToEdit:{id:"",content:""},rules:{required:function(t){return!!t||"The field is required."}},offensiveError:{errorText:void 0,notAllowedWords:void 0},dialog:!1}},computed:{idToEdit:{get:function(){return this.commentToEdit},set:function(t){return this.commentToEdit.id=t._id,this.commentToEdit.content=t.content,this.commentToEdit}}},methods:{addNewComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,s,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.newComment.trim(),this.newComment=e,!this.newComment){t.next=15;break}return t.prev=3,t.next=6,ar(this.postID,this.newComment);case 6:r=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),401===t.t0.response.status?(alert("Your session has expired. Please, login again!"),this.$router.push("/login")):(this.offensiveError=t.t0.response.data,this.dialog=!0);case 12:r&&(n=this.userStore.data,a=n._id,s=n.username,o=n.image,i={userID:a,username:s,image:o},r.userInfo=i,r.date=Wt()(r.date),this.newComment=" ",this.offensiveError.errorText=void 0,this.offensiveError.notAllowedWords=void 0,this.comments.unshift(r)),t.next=17;break;case 15:this.offensiveError.errorText="Fill required fields",this.dialog=!0;case 17:case"end":return t.stop()}}),t,this,[[3,9]])})));function e(){return t.apply(this,arguments)}return e}(),editComment:function(t){return this.idToEdit=t},sendEditComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,s,o,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.commentToEdit.content.trim(),this.commentToEdit.content=e,!this.commentToEdit.content){t.next=15;break}return t.prev=3,t.next=6,ur(this.postID,this.commentToEdit);case 6:r=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),401===t.t0.response.status?(alert("Your session has expired. Please, login again!"),this.$router.push("/login")):(this.offensiveError=t.t0.response.data,this.dialog=!0);case 12:r&&(n=this.userStore.data,a=n._id,s=n.username,o=n.image,i={userID:a,username:s,image:o},r.userInfo=i,r.date=Wt()(r.date),this.commentToEdit.id="",this.offensiveError.errorText=void 0,this.offensiveError.notAllowedWords=void 0,u=this.comments.findIndex((function(t){return t._id===r._id})),this.comments.splice(u,1,r)),t.next=17;break;case 15:this.offensiveError.errorText="Fill required fields",this.dialog=!0;case 17:case"end":return t.stop()}}),t,this,[[3,9]])})));function e(){return t.apply(this,arguments)}return e}(),deleteComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pr(this.postID,e);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),401===t.t0.response.status?(alert("Your session has expired. Please, login again!"),this.$router.push("/login")):(this.offensiveError.errorText=t.t0.response.data,this.dialog=!0);case 9:r&&(n=this.comments.findIndex((function(t){return t._id===e})),this.comments.splice(n,1));case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}()}},fr=mr,hr=Object(y["a"])(fr,Xe,tr,!1,null,"77f1d7b2",null),vr=hr.exports;C()(hr,{VCard:Y["a"],VCardActions:H["a"],VCardText:H["c"],VCardTitle:H["d"],VTextField:ie["a"]});var gr={name:"PostDetail",components:{PrimaryBtn:bt,PostCard:Qe,CommentsCard:vr},data:function(){return{postData:{comments:[],userInfo:{}},isCommentsOpen:!0,userStore:p.state,notFound:!1}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,s,o,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,t.prev=1,t.next=4,Ve(e);case 4:for(r=t.sent,r.date=Wt()(r.date),n=!0,a=!1,s=void 0,t.prev=9,o=r.comments[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)u=i.value,u.date=Wt()(u.date);t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](9),a=!0,s=t.t0;case 17:t.prev=17,t.prev=18,n||null==o.return||o.return();case 20:if(t.prev=20,!a){t.next=23;break}throw s;case 23:return t.finish(20);case 24:return t.finish(17);case 25:this.postData=r,t.next=31;break;case 28:t.prev=28,t.t1=t["catch"](1),404===t.t1.response.status&&(this.notFound=!0);case 31:case"end":return t.stop()}}),t,this,[[1,28],[9,13,17,25],[18,,20,24]])})));function e(){return t.apply(this,arguments)}return e}(),methods:{toggleComments:function(t){this.isCommentsOpen=t},goToView:function(t){this.$router.push(t)}}},wr=gr,xr=(r("2396"),Object(y["a"])(wr,_e,Ce,!1,null,"769b577a",null)),br=xr.exports;C()(xr,{VCard:Y["a"],VContainer:Vt["a"],VLayout:Pt["a"]});var yr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{wrap:""}},[t.userStore.token?r("div",{staticClass:"mx-auto my-10 v-card v-card--shadow-none"},[r("v-card",{staticClass:"mb-6",attrs:{"max-width":"800"}},[r("v-img",{staticClass:"white--text align-end",attrs:{src:"https://i.pinimg.com/originals/11/3b/a4/113ba4f4a6ab9817069ca3a3bb4a1b1b.jpg",height:"200px"}},[r("v-card-title",[t._v("Hello, "+t._s(t.userStore.data.firstname))])],1),r("AvatarCard",{attrs:{userData:t.userStore.data}}),t.userStore.token?r("v-card-actions",{staticClass:"flex-column align-start"},[r("div",[r("SecondaryBtn",{attrs:{btnText:"Update Profile"}}),r("SecondaryBtn",{attrs:{btnText:"Delete Profile"}})],1),r("div",{staticClass:"align-self-end"},[r("PrimaryBtn",{attrs:{btnText:"+ New Post","data-id":"newpost-btn"},on:{"go-to":function(e){return t.goToView("/myprofile/newpost")}}}),"admin"===t.userStore.data.role?r("PrimaryBtn",{attrs:{btnText:"⚙ Words","data-id":"words-btn"},on:{"go-to":function(e){return t.goToView("/myprofile/words")}}}):t._e()],1)]):t._e()],1),r("PostList",{attrs:{posts:t.userPosts,listTitle:"Your Posts"}})],1):r("v-card",{staticClass:"pa-10"},[t._v(" You need Login or Sign up "),r("router-link",{attrs:{to:"/login"}},[t._v("here >>")])],1)],1)},_r=[],Cr="https://localhost:3443/";function kr(t){return Tr.apply(this,arguments)}function Tr(){return Tr=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["get"](Cr+"posts/user/"+e);case 2:return r=t.sent,n=r.data.reverse(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),Tr.apply(this,arguments)}var Er=kr,Vr={name:"Profile",components:{AvatarCard:We,PostList:Mt,PrimaryBtn:bt,SecondaryBtn:Me},data:function(){return{userStore:p.state,userPosts:[]}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getUserPosts();case 2:this.userPosts=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{toggle:function(){var t=!this.isCommentsOpen;this.$emit("comment-clicked",t)},goToView:function(t){this.$router.push(t)},getUserPosts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,s,o,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.userStore.data,!e){t.next=25;break}return t.next=4,Er(e._id);case 4:for(r=t.sent,n=!0,a=!1,s=void 0,t.prev=8,o=r[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)u=i.value,u.date=Wt()(u.date);t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](8),a=!0,s=t.t0;case 16:t.prev=16,t.prev=17,n||null==o.return||o.return();case 19:if(t.prev=19,!a){t.next=22;break}throw s;case 22:return t.finish(19);case 23:return t.finish(16);case 24:return t.abrupt("return",r);case 25:case"end":return t.stop()}}),t,this,[[8,12,16,24],[17,,19,23]])})));function e(){return t.apply(this,arguments)}return e}()}},Pr=Vr,Or=(r("dce9"),Object(y["a"])(Pr,yr,_r,!1,null,"5369f593",null)),Dr=Or.exports;C()(Or,{VCard:Y["a"],VCardActions:H["a"],VCardTitle:H["d"],VImg:L["a"],VLayout:Pt["a"]});var Sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","mx-auto":"","my-6":"","pa-0":""}},[t.userStore.token?r("v-card",{staticClass:"mx-4"},[r("v-form",{ref:"form",staticClass:"pa-4 pt-6"},[r("v-text-field",{attrs:{rules:[t.rules.required],filled:"",label:"Title",name:"input-title"},model:{value:t.newPost.title,callback:function(e){t.$set(t.newPost,"title",e)},expression:"newPost.title"}}),r("v-file-input",{attrs:{accept:"image/*",filled:"","prepend-icon":"","prepend-inner-icon":"mdi-camera",label:t.newPost.imageName||"Background image file",name:"input-image",id:"file"},on:{change:t.handleUploadImage}}),r("v-textarea",{attrs:{rules:[t.rules.required],"auto-grow":"",filled:"",label:"Write your post",rows:"6"},model:{value:t.newPost.content,callback:function(e){t.$set(t.newPost,"content",e)},expression:"newPost.content"}})],1),r("v-divider"),r("v-card-actions",[r("v-btn",{attrs:{text:""},on:{click:function(e){return t.$refs.form.reset()}}},[t._v("Clear")]),r("v-spacer"),this.$route.query.edit?r("PrimaryBtn",{attrs:{"data-id":"editpost-btn",btnText:"Edit Post"},on:{"go-to":t.editPost}}):r("PrimaryBtn",{attrs:{btnText:"+ Add Post","data-id":"addpost-btn"},on:{"go-to":t.addNewPost}})],1)],1):r("v-card",{staticClass:"mx-auto pa-10",attrs:{"max-width":"500px",color:"secondary"}},[t._v(" Login to add New Post "),r("router-link",{attrs:{to:"/login"}},[t._v("here >>")])],1),r("Dialog",{attrs:{offensiveError:t.offensiveError,dialog:t.dialog},on:{"close-dialog":function(e){t.dialog=!1}}})],1)},jr=[],Rr=(r("b0c0"),"https://localhost:3443/");function $r(t){return Ir.apply(this,arguments)}function Ir(){return Ir=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=p.state.token,n="Bearer ".concat(r),t.next=4,i["request"]({url:Rr+"posts",headers:{Authorization:n},data:e,method:"post"});case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)}))),Ir.apply(this,arguments)}var Br=$r,Ar="https://localhost:3443/";function Wr(t,e){return Lr.apply(this,arguments)}function Lr(){return Lr=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=p.state.token,a="Bearer ".concat(n),t.next=4,i["request"]({url:Ar+"posts/"+r,headers:{Authorization:a},data:e,method:"put"});case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)}))),Lr.apply(this,arguments)}var qr=Wr,Ur={name:"NewPost",components:{PrimaryBtn:bt,Dialog:ae},data:function(){return{userStore:p.state,newPost:{title:"",content:"",userID:"",tags:[""],categories:[""],image:"",imageName:""},postToEdit:"",rules:{required:function(t){return!!t||"The field is required."}},offensiveError:{errorText:void 0},dialog:!1}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$route.query.edit){t.next=4;break}return t.next=3,this.loadPostToEdit();case 3:this.newPost=t.sent;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{addNewPost:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.newPost,r=e.title,n=e.content,!r||!n){t.next=16;break}return t.prev=2,t.next=5,Br(this.newPost);case 5:a=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),401===t.t0.response.status&&(alert("Your session has expired. Please, login again!"),this.$router.push("/login"));case 11:if(!a){t.next=14;break}return alert("Post registered correctly"),t.abrupt("return",this.$router.push("/posts/"+a._id));case 14:t.next=18;break;case 16:this.offensiveError.errorText="Fill required fields",this.dialog=!0;case 18:case"end":return t.stop()}}),t,this,[[2,8]])})));function e(){return t.apply(this,arguments)}return e}(),editPost:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.query.edit,r=this.newPost,n=r.title,a=r.content,!n||!a){t.next=17;break}return t.prev=3,t.next=6,qr(this.newPost,e);case 6:s=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),401===t.t0.response.status&&(alert("Your session has expired. Please, login again!"),this.$router.push("/login"));case 12:if(!s){t.next=15;break}return alert("Post registered correctly"),t.abrupt("return",this.$router.push("/posts/"+e));case 15:t.next=19;break;case 17:this.offensiveError.errorText="Fill required fields",this.dialog=!0;case 19:case"end":return t.stop()}}),t,this,[[3,9]])})));function e(){return t.apply(this,arguments)}return e}(),loadPostToEdit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this.$route.query.edit,t.prev=1,t.next=4,Ve(r);case 4:return e=t.sent,delete e._id,delete e.comments,delete e.userInfo,delete e.userID,t.abrupt("return",e);case 12:t.prev=12,t.t0=t["catch"](1),401===t.t0.response.status&&(alert("Your session has expired. Please, login again!"),this.$router.push("/login"));case 15:case"end":return t.stop()}}),t,this,[[1,12]])})));function e(){return t.apply(this,arguments)}return e}(),handleUploadImage:function(t){var e=this,r=t;if(r){this.newPost.imageName=r.name;var n=new FileReader;n.readAsDataURL(r),n.onload=function(t){e.newPost.image=t.target.result},document.querySelector("#file").value=""}}}},Fr=Ur,Nr=(r("7ae3"),r("a844")),Mr=Object(y["a"])(Fr,Sr,jr,!1,null,"6ab2a77c",null),zr=Mr.exports;C()(Mr,{VBtn:k["a"],VCard:Y["a"],VCardActions:H["a"],VContainer:Vt["a"],VDivider:T["a"],VFileInput:we["a"],VForm:xe["a"],VSpacer:re["a"],VTextField:ie["a"],VTextarea:Nr["a"]});var Yr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"mx-auto d-flex justify-center"},[r("v-layout",{staticClass:"d-flex flex-column justify-space-between align-center my-4",attrs:{"text-left":"",wrap:""}},[r("v-card",{attrs:{width:"800",color:"secondary"}},[r("WordCardInput",{attrs:{btnText:"+ Word",word:t.newWord},on:{"go-sendWord":t.addNewWord}}),r("v-card-title",{},[t._v("Lista de palabras")]),r("v-list-item",{staticClass:"d-flex flex-wrap pb-3",attrs:{"three-line":""}},t._l(t.offensiveWords,(function(e){return r("v-card",{key:e._id,staticClass:"mx-2 my-3 px-2",attrs:{id:e._id,tile:"","max-width":"800"}},[e._id===t.wordToEdit.id&&t.isEdit?r("WordCardInput",{attrs:{btnText:"Edit",isEdit:!0,word:t.wordEdit},on:{"go-sendWord":t.sendEditWord}}):r("v-list-item-content",{staticClass:"word__box"},[r("v-list-item-title",{staticClass:"mb-2"},[r("strong",[t._v("Word:")]),t._v(" "+t._s(e.word)+" ")]),r("v-list-item-subtitle",{staticClass:"caption"},[r("strong",[t._v("Level:")]),t._v(" "+t._s(e.level)+" ")]),r("v-card-actions",{staticClass:"justify-end"},[r("SecondaryBtn",{attrs:{btnText:"Edit","data-id":"edit-word-btn"},on:{"go-to":function(r){return t.editWord(e)}}}),r("SecondaryBtn",{attrs:{btnText:"Delete","data-id":"delete-word-btn"},on:{"go-to":function(r){return t.deleteWord(e.word)}}})],1)],1)],1)})),1)],1),r("Dialog",{attrs:{offensiveError:t.offensiveError,dialog:t.dialog},on:{"close-dialog":function(e){t.dialog=!1}}})],1)],1)},Hr=[],Jr="https://localhost:3443/";function Zr(){return Gr.apply(this,arguments)}function Gr(){return Gr=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=p.state.token,r="Bearer ".concat(e),t.next=4,i["request"]({url:Jr+"offensive-words",headers:{Authorization:r},method:"get"});case 4:return n=t.sent,a=n.data.reverse(),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)}))),Gr.apply(this,arguments)}var Kr=Zr,Qr="https://localhost:3443/";function Xr(t){return tn.apply(this,arguments)}function tn(){return tn=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=p.state.token,n="Bearer ".concat(r),t.next=4,i["request"]({url:Qr+"offensive-words",headers:{Authorization:n},data:e,method:"post"});case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)}))),tn.apply(this,arguments)}var en=Xr,rn="https://localhost:3443/";function nn(t,e){return an.apply(this,arguments)}function an(){return an=Object(o["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=p.state.token,a="Bearer ".concat(n),t.next=4,i["request"]({url:rn+"offensive-words/"+e,headers:{Authorization:a},data:{word:r.word,level:r.level},method:"put"});case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)}))),an.apply(this,arguments)}var sn=nn,on="https://localhost:3443/";function un(t){return cn.apply(this,arguments)}function cn(){return cn=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=p.state.token,n="Bearer ".concat(r),t.next=4,i["request"]({url:on+"offensive-words/"+e,headers:{Authorization:n},method:"delete"});case 4:return a=t.sent,t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)}))),cn.apply(this,arguments)}var ln=un,dn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"pa-4 ma-4",attrs:{"max-width":"400px"}},[r("v-text-field",{attrs:{rules:[t.rules.required],filled:"",label:"Write your word",name:"input-word"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendWord(e)}},model:{value:t.newWord.word,callback:function(e){t.$set(t.newWord,"word",e)},expression:"newWord.word"}}),r("v-text-field",{attrs:{rules:[t.rules.required],type:"number",filled:"",min:"1",max:"5",label:"level",name:"input-level"},model:{value:t.newWord.level,callback:function(e){t.$set(t.newWord,"level",e)},expression:"newWord.level"}}),r("PrimaryBtn",{attrs:{btnText:t.btnText,"data-id":"add-word-btn"},on:{"go-to":t.sendWord}})],1)},pn=[],mn={name:"WordCardInput",components:{PrimaryBtn:bt},props:{btnText:String,word:Object,isEdit:Boolean},data:function(){return{newWord:{word:this.word.word,level:this.word.level},rules:{required:function(t){return!!t||"The field is required."}}}},methods:{sendWord:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$emit("go-sendWord",this.newWord);case 2:this.isEdit||(this.newWord.word=" ",this.newWord.level=1);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},fn=mn,hn=(r("c4e1"),Object(y["a"])(fn,dn,pn,!1,null,"ee81ad96",null)),vn=hn.exports;C()(hn,{VCard:Y["a"],VTextField:ie["a"]});var gn={name:"AdminWords",components:{WordCardInput:vn,SecondaryBtn:Me,Dialog:ae},data:function(){return{userStore:p.state,offensiveWords:[],newWord:{word:"",level:""},wordEdit:{id:"",word:"",level:""},rules:{required:function(t){return!!t||"The field is required."}},offensiveError:{errorText:void 0},dialog:!1,isEdit:!1}},computed:{wordToEdit:{get:function(){return this.wordEdit},set:function(t){return this.wordEdit.id=t._id,this.wordEdit.word=t.word,this.wordEdit.level=t.level,this.wordEdit}}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Kr();case 2:e=t.sent,this.offensiveWords=e;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{addNewWord:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.word.trim(),e.word=r,t.prev=2,t.next=5,en(e);case 5:n=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),401===t.t0.response.status?(alert("Your session has expired. Please, login again!"),this.$router.push("/login")):(this.offensiveError.errorText=t.t0.response.data,this.dialog=!0);case 11:n&&this.offensiveWords.unshift(n);case 12:case"end":return t.stop()}}),t,this,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}(),editWord:function(t){return this.isEdit=!0,this.wordToEdit=t},sendEditWord:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.word.trim(),e.word=r,t.prev=2,t.next=5,sn(this.wordEdit.word,e);case 5:n=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),401===t.t0.response.status?(alert("Your session has expired. Please, login again!"),this.$router.push("/login")):(this.offensiveError.errorText=t.t0.response.data,this.dialog=!0);case 11:n&&(a=this.offensiveWords.findIndex((function(t){return t._id===s.wordEdit.id})),this.isEdit=!1,this.offensiveWords.splice(a,1,n));case 12:case"end":return t.stop()}}),t,this,[[2,8]])})));function e(e){return t.apply(this,arguments)}return e}(),deleteWord:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ln(e);case 3:r=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),401===t.t0.response.status?(alert("Your session has expired. Please, login again!"),this.$router.push("/login")):(this.offensiveError.errorText=t.t0.response.data,this.dialog=!0);case 9:r&&(n=this.offensiveWords.findIndex((function(t){return t.word===e})),this.offensiveWords.splice(n,1));case 10:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}()}},wn=gn,xn=(r("2b58"),Object(y["a"])(wn,Yr,Hr,!1,null,"3f921f0e",null)),bn=xn.exports;C()(xn,{VCard:Y["a"],VCardActions:H["a"],VCardTitle:H["d"],VContainer:Vt["a"],VLayout:Pt["a"],VListItem:P["a"],VListItemContent:D["a"],VListItemSubtitle:D["b"],VListItemTitle:D["c"]}),n["a"].use(nt["a"]);var yn=[{path:"/",name:"home",component:Dt},{path:"/posts",name:"posts",component:Jt},{path:"/posts/:id",name:"PostDetail",component:br},{path:"/login",name:"login",component:ce},{path:"/signup",name:"signup",component:ye},{path:"/myprofile",name:"profile",component:Dr},{path:"/myprofile/newpost",name:"NewPost",component:zr},{path:"/myprofile/words",name:"Words",component:bn}],_n=new nt["a"]({mode:"history",base:"/blog-practice/client/",routes:yn}),Cn=_n,kn=r("f309");n["a"].use(kn["a"]);var Tn=new kn["a"]({theme:{themes:{light:{primary:"#1A237E",secondary:"#E8EAF6",accent:"#8C9EFF",error:"#D50000"}}}}),En=Tn;n["a"].config.productionTip=!1,new n["a"]({router:Cn,vuetify:En,render:function(t){return t(rt)}}).$mount("#app")},"5ebd":function(t,e,r){},"630e":function(t,e,r){},"6fd5":function(t,e,r){"use strict";var n=r("630e"),a=r.n(n);a.a},"760c":function(t,e,r){"use strict";var n=r("a4bc"),a=r.n(n);a.a},"7ae3":function(t,e,r){"use strict";var n=r("5ebd"),a=r.n(n);a.a},"7e82":function(t,e,r){},"8a23":function(t,e,r){},"8c0d":function(t,e,r){},"914c":function(t,e,r){},"978d":function(t,e,r){"use strict";var n=r("4493"),a=r.n(n);a.a},a4b8:function(t,e,r){"use strict";var n=r("e308"),a=r.n(n);a.a},a4bc:function(t,e,r){},c4e1:function(t,e,r){"use strict";var n=r("8c0d"),a=r.n(n);a.a},d7db:function(t,e,r){},dce9:function(t,e,r){"use strict";var n=r("fad5"),a=r.n(n);a.a},e308:function(t,e,r){},e389:function(t,e,r){t.exports=r.p+"img/logo-rocket.fd527d87.png"},eb35:function(t,e,r){},fad5:function(t,e,r){}});
//# sourceMappingURL=app.a2f5dab0.js.map